<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="BPM_PROCESS_138_1585918059121" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>SequenceFlow_0fqonbl</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0fqonbl" sourceRef="StartEvent_1" targetRef="Task_1dsx6b0" />
    <bpmn:sequenceFlow id="SequenceFlow_1ye3sab" sourceRef="Task_1dsx6b0" targetRef="Task_0dc5jnm" />
    <bpmn:sequenceFlow id="SequenceFlow_10csk1l" sourceRef="Task_0dc5jnm" targetRef="Task_1rybvxe" />
    <bpmn:sequenceFlow id="SequenceFlow_148j2iy" sourceRef="Task_1rybvxe" targetRef="Task_1lq1cwb" />
    <bpmn:endEvent id="EndEvent_1q6qohd">
      <bpmn:incoming>SequenceFlow_089pdfj</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_089pdfj" sourceRef="Task_1lq1cwb" targetRef="EndEvent_1q6qohd" />
    <bpmn:serviceTask id="Task_1rybvxe" name="Manage Connectivity To Cloud">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">http://api:8480/ubi-api-rest/orchestration/service/execute/UBIA138?serviceName=Process%2FIAP_Router_Management%2FManage_Connectivity&amp;processName=Process%2FIAP_Router_Management%2FProcess_PNF_to_Public</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Authorization">Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuY3Jvb3QiLCJpYXQiOjE1ODYyODYxNjIsImx2bCI6IjEiLCJleHAiOjE1ODYzNzI1NjJ9.Rnrc2qre1xywTbUAg8KP0khYy3O-jxt32AgZ3ux4Ausq-Kd5-YzZzP4vS_bAZqWufMy9FmiWvbYy2UHAJikRpA</camunda:entry>
                <camunda:entry key="Accept">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">{}</camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_10csk1l</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_148j2iy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1lq1cwb" name="Manage Connectivity To Cloud">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">http://api:8480/ubi-api-rest/orchestration/service/execute/UBIA138?serviceName=Process%2FIAP_Router_Management%2FManage_Connectivity&amp;processName=Process%2FIAP_Router_Management%2FProcess_uCPE_to_Public</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Authorization">Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuY3Jvb3QiLCJpYXQiOjE1ODYyODYxNjIsImx2bCI6IjEiLCJleHAiOjE1ODYzNzI1NjJ9.Rnrc2qre1xywTbUAg8KP0khYy3O-jxt32AgZ3ux4Ausq-Kd5-YzZzP4vS_bAZqWufMy9FmiWvbYy2UHAJikRpA</camunda:entry>
                <camunda:entry key="Accept">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">{}</camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_148j2iy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_089pdfj</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0dc5jnm" name="Public Cloud VNF Management">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">http://api:8480/ubi-api-rest/orchestration/service/execute/UBIA138?serviceName=Process%2FIAP_Public_Cloud%2FAWS%2FInstance_Management%2FManage_VNF_on_AWS&amp;processName=Process%2FIAP_Public_Cloud%2FAWS%2FInstance_Management%2FProcess_Update_Firewall_Policy</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Authorization">Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuY3Jvb3QiLCJpYXQiOjE1ODYyODYxNjIsImx2bCI6IjEiLCJleHAiOjE1ODYzNzI1NjJ9.Rnrc2qre1xywTbUAg8KP0khYy3O-jxt32AgZ3ux4Ausq-Kd5-YzZzP4vS_bAZqWufMy9FmiWvbYy2UHAJikRpA</camunda:entry>
                <camunda:entry key="Accept">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">{}</camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1ye3sab</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10csk1l</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1dsx6b0" name="Public Cloud VNF Management">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">http://api:8480/ubi-api-rest/orchestration/service/execute/UBIA138?serviceName=Process%2FIAP_Public_Cloud%2FAWS%2FInstance_Management%2FManage_VNF_on_AWS&amp;processName=Process%2FIAP_Public_Cloud%2FAWS_WF%2FProcess_CREATE</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Authorization">Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuY3Jvb3QiLCJpYXQiOjE1ODYyODYxNjIsImx2bCI6IjEiLCJleHAiOjE1ODYzNzI1NjJ9.Rnrc2qre1xywTbUAg8KP0khYy3O-jxt32AgZ3ux4Ausq-Kd5-YzZzP4vS_bAZqWufMy9FmiWvbYy2UHAJikRpA</camunda:entry>
                <camunda:entry key="Accept">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">{"conf_profile_reference":"FGT_FW","interface_id":"eni-004b52afd89440c7d","customer_id":"UBIA138","AwsDeviceId":"UBI486","ImageId":"ami-094e94d549d64a3ce","InstanceType":"c5.large","security_group":"sg-e8a77390","SubnetId":"subnet-4eebd807","device_ip_address":"3.115.192.248","model_id":"15102617","manufacturer_id":"17","login":"admin","new_password":"AZERTY123456789","snmp_community":"myCommunity","lan_ip":"10.1.0.191"}</camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0fqonbl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ye3sab</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:textAnnotation id="TextAnnotation_1thxyor">
      <bpmn:text>update the Flexiwan router to route traffic to internet</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_00nwn8i" sourceRef="Task_1lq1cwb" targetRef="TextAnnotation_1thxyor" />
    <bpmn:textAnnotation id="TextAnnotation_038ru34">
      <bpmn:text>update the Cisco 2900 router to route the traffic to internet</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0uhmhrr" sourceRef="Task_1rybvxe" targetRef="TextAnnotation_038ru34" />
    <bpmn:textAnnotation id="TextAnnotation_1xdjjd8">
      <bpmn:text>Configure the Fortigate FW with a D-NAT to the app</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_15u6jql" sourceRef="Task_0dc5jnm" targetRef="TextAnnotation_1xdjjd8" />
    <bpmn:textAnnotation id="TextAnnotation_12sqsfv">
      <bpmn:text>Launch an Fortigate instance on AWS</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0jbu0x3" sourceRef="Task_1dsx6b0" targetRef="TextAnnotation_12sqsfv" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="BPM_PROCESS_138_1585918059121">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="173" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0fqonbl_di" bpmnElement="SequenceFlow_0fqonbl">
        <di:waypoint x="209" y="120" />
        <di:waypoint x="310" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ye3sab_di" bpmnElement="SequenceFlow_1ye3sab">
        <di:waypoint x="410" y="120" />
        <di:waypoint x="490" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_10csk1l_di" bpmnElement="SequenceFlow_10csk1l">
        <di:waypoint x="590" y="120" />
        <di:waypoint x="650" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_148j2iy_di" bpmnElement="SequenceFlow_148j2iy">
        <di:waypoint x="750" y="120" />
        <di:waypoint x="810" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1q6qohd_di" bpmnElement="EndEvent_1q6qohd">
        <dc:Bounds x="992" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_089pdfj_di" bpmnElement="SequenceFlow_089pdfj">
        <di:waypoint x="910" y="120" />
        <di:waypoint x="992" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1thxyor_di" bpmnElement="TextAnnotation_1thxyor">
        <dc:Bounds x="940" y="-53" width="100" height="70" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_00nwn8i_di" bpmnElement="Association_00nwn8i">
        <di:waypoint x="898" y="80" />
        <di:waypoint x="957" y="17" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_038ru34_di" bpmnElement="TextAnnotation_038ru34">
        <dc:Bounds x="750" y="-60" width="100" height="84" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0uhmhrr_di" bpmnElement="Association_0uhmhrr">
        <di:waypoint x="729" y="80" />
        <di:waypoint x="770" y="24" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1xdjjd8_di" bpmnElement="TextAnnotation_1xdjjd8">
        <dc:Bounds x="550" y="-53" width="100" height="70" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_15u6jql_di" bpmnElement="Association_15u6jql">
        <di:waypoint x="557" y="80" />
        <di:waypoint x="585" y="17" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_12sqsfv_di" bpmnElement="TextAnnotation_12sqsfv">
        <dc:Bounds x="350" y="-53" width="100" height="70" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0jbu0x3_di" bpmnElement="Association_0jbu0x3">
        <di:waypoint x="372" y="80" />
        <di:waypoint x="390" y="17" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1586337884823_di" bpmnElement="Task_1rybvxe">
        <dc:Bounds x="650" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1586337889887_di" bpmnElement="Task_1lq1cwb">
        <dc:Bounds x="810" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1586338250544_di" bpmnElement="Task_0dc5jnm">
        <dc:Bounds x="490" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1586349557335_di" bpmnElement="Task_1dsx6b0">
        <dc:Bounds x="310" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
